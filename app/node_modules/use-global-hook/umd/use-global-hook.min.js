/** @license UseGlobalHook v0.3.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("react")):"function"==typeof define&&define.amd?define(["react"],n):(t="undefined"!=typeof globalThis?globalThis:t||self).UseGlobalHook=n(t.React)}(this,(function(t){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(){return(e=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}).apply(this,arguments)}function o(t,n,o){t.state=e({},t.state,n),t.runListeners(),o&&o()}function r(n,e,o){var r=e?e(n.state):n.state,i=o?o(n.actions):n.actions,u=t.useState(r)[1];return t.useEffect(function(t,n,e,o){var r={oldState:n};return r.run=e?function(t){var n=e(t);n!==r.oldState&&(r.oldState=n,o(n))}:o,t.listeners.push(r),function(t,n){return function(){t.listeners=t.listeners.filter((function(t){return t!==n}))}}(t,r)}(n,r,e,u),[]),[r,i]}var i=function(t){t.listeners.forEach((function(n){n.run(t.state)}))};var u=function(t,e){var o=e.setState;e.setState=function(n){n instanceof Function?(e.state=t(e.state,n),e.runListeners()):o(n)},function t(e,o){var r={};return Object.keys(o).forEach((function(i){if("function"==typeof o[i]){var u=o[i];o[i]=function(t,n){return function(){var e=n.apply(void 0,arguments);"function"==typeof e&&t.setState(e)}}(e,u)}"object"===n(o[i])&&(r[i]=t(e,o[i]))})),r}(e,e.actions)};return function(t,e,f){var c={state:t,listeners:[]};return c.setState=o.bind(null,c),c.runListeners=i.bind(null,c),c.actions=function t(e,o){var r={};return Object.keys(o).forEach((function(i){"function"==typeof o[i]&&(r[i]=o[i].bind(null,e)),"object"===n(o[i])&&(r[i]=t(e,o[i]))})),r}(c,e),function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n instanceof Function)n(t);else{var e=n.Immer,o=n.initializer;e&&u(e,t),o&&o(t)}}(c,f),r.bind(null,c)}}));
